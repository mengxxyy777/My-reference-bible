# 滑动窗口

## 定长滑动窗口

​	这类滑动窗口的特点就是窗口大小固定，每次操作出去一个元素，进入一个元素，做相应的更改，不需要大规模的遍历与统计，来看最经典的定长滑窗问题：

​	给定一个数组，求所有大小为k的子数组的平均数，形成一个长为n - k + 1的数组并返回。

​	模拟思维是：分别遍历每个大小为k的子数组，求平均值，将该值放入答案数组中，再计算第二个子数组的和的平均值...这样做当k和数组大小达到一定规模的时候，时间复杂度是很高的，但是我们可以维护一个窗口，记录该窗口的和，在即将计算下一个窗口时，将要出去的元素值减去，再将要进入的元素值加上，这样就能在O(1)的时间复杂度内加工出平均值了，因为只需要窗口的滑动就能解决问题。

### 练习题

​	https://leetcode.cn/problems/maximum-number-of-vowels-in-a-substring-of-given-length （容易）

​	https://leetcode.cn/problems/maximum-average-subarray-i （容易）

​	https://leetcode.cn/problems/number-of-sub-arrays-of-size-k-and-average-greater-than-or-equal-to-threshold （容易）

​	https://leetcode.cn/problems/k-radius-subarray-averages （容易）

​	https://leetcode.cn/problems/minimum-recolors-to-get-k-consecutive-black-blocks （容易）

​	https://leetcode.cn/problems/maximum-sum-of-almost-unique-subarray （容易，滑动窗口+哈希）

​	https://leetcode.cn/problems/maximum-points-you-can-obtain-from-cards （容易+）

​	https://leetcode.cn/problems/minimum-discards-to-balance-inventory （容易++，滑动窗口+哈希）

​	https://leetcode.cn/problems/grumpy-bookstore-owner （容易++）

​	https://leetcode.cn/problems/reschedule-meetings-for-maximum-free-time-i （容易++）

​	https://leetcode.cn/problems/distinct-points-reachable-after-substring-removal （一般）

​	https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-using-strategy （一般）

​	https://leetcode.cn/problems/minimum-swaps-to-group-all-1s-together-ii （容易++）

​	https://leetcode.cn/problems/defuse-the-bomb （容易+）

​	https://leetcode.cn/problems/maximum-number-of-occurrences-of-a-substring （容易++）

​	https://leetcode.cn/problems/sliding-subarray-beauty （容易++，滑窗+哈希）

​	https://leetcode.cn/problems/minimum-number-of-flips-to-make-the-binary-string-alternating （一般++，需要观察转化）

​	https://leetcode.cn/problems/permutation-in-string （容易+，滑窗+哈希）

​	https://leetcode.cn/problems/find-all-anagrams-in-a-string （容易+，滑窗+哈希）

​	https://leetcode.cn/problems/substring-with-concatenation-of-all-words （未完成）（较难，滑窗+字符串哈希）

​	https://leetcode.cn/problems/find-substring-with-given-hash-value （未完成）

​	https://leetcode.cn/problems/count-complete-substrings （未完成）

​	https://leetcode.cn/problems/binary-string-with-substrings-representing-1-to-n （未完成）	

## 不定长滑动窗口

​	不定长滑窗可以看作一个队列，往往都是求一个最好的、满足条件的子数组，可能是最长/最短的，也可能求这样的子数组的个数等等，通过两边两个指针，模拟类似队列出队入队的操作，来维护一个不定长的窗口，解题思路上可能比定长滑动窗口更加灵活，但是难度跨越并不大，还是结合具体问题具体分析。

### 练习题

**越短越合法/求最长/最大**

​	https://leetcode.cn/problems/longest-substring-without-repeating-characters （容易，滑窗+哈希）

​	https://leetcode.cn/problems/maximum-length-substring-with-two-occurrences （容易，滑窗+哈希）

​	https://leetcode.cn/problems/longest-subarray-of-1s-after-deleting-one-element （容易+）

​	https://leetcode.cn/problems/minimum-removals-to-balance-array （容易+）

​	https://leetcode.cn/problems/get-equal-substrings-within-budget （容易+）

​	https://leetcode.cn/problems/fruit-into-baskets （容易+）

​	https://leetcode.cn/problems/maximum-erasure-value （容易+）

​	https://leetcode.cn/problems/length-of-longest-subarray-with-at-most-k-frequency （容易+）

​	https://leetcode.cn/problems/maximize-the-confusion-of-an-exam （容易+）

​	https://leetcode.cn/problems/max-consecutive-ones-iii （容易+）

​	https://leetcode.cn/problems/minimum-operations-to-reduce-x-to-zero （容易++，需要将问题转化）

​	https://leetcode.cn/problems/find-the-longest-semi-repetitive-substring （容易++，考虑边界问题）

​	https://leetcode.cn/problems/maximum-beauty-of-an-array-after-applying-operation （容易++，需要排序转化问题）

​	https://leetcode.cn/problems/frequency-of-the-most-frequent-element （容易++，需要排序转化问题）

​	https://leetcode.cn/problems/take-k-of-each-character-from-left-and-right （容易++，需要将问题转化）

​	https://leetcode.cn/problems/find-the-longest-equal-subarray （一般，哈希+滑窗）

​	https://leetcode.cn/problems/maximum-white-tiles-covered-by-a-carpet （一般+）

​	https://leetcode.cn/problems/maximum-fruits-harvested-after-at-most-k-steps/ （较难）

​	https://leetcode.cn/problems/maximize-win-from-two-segments/description/ （较难，滑窗+dp）

​	https://leetcode.cn/problems/minimum-number-of-operations-to-make-array-continuous （较难，正难则反）

​	https://leetcode.cn/problems/maximum-number-of-visible-points/ （未完成）（一般，滑窗+几何）

​	https://leetcode.cn/problems/length-of-the-longest-valid-substring （一般，滑窗+哈希）

​	https://leetcode.cn/problems/maximum-coins-from-k-consecutive-bags （一般+）

​	https://leetcode.cn/problems/longest-nice-substring （一般++，滑窗+哈希，尝试多用几个计数变量控制）

​	https://leetcode.cn/problems/apply-operations-to-maximize-frequency-score （较难，需要知道变为哪个数字最优+分析如何高效维护窗口内变为同一个数字的代价）

​	https://leetcode.cn/problems/moving-stones-until-consecutive-ii （较难，此题需要详细分析何时最大，如何求最小）



**越长越合法/求最短/最小**

​	https://leetcode.cn/problems/minimum-size-subarray-sum （容易+）

​	https://leetcode.cn/problems/shortest-and-lexicographically-smallest-beautiful-string （容易++，注意如何使子串最短）

​	https://leetcode.cn/problems/replace-the-substring-for-balanced-string （一般，需要思维转化）

​	https://leetcode.cn/problems/minimum-size-subarray-in-infinite-arra （一般，需要稍微转化一下）

​	https://leetcode.cn/problems/minimum-window-substring （一般）

​	https://leetcode.cn/problems/smallest-range-covering-elements-from-k-lists （一般++，需要将问题转化）



**求子数组个数**

​	**越短越合法**

​		https://leetcode.cn/problems/subarray-product-less-than-k （容易+，注意边界处理）

​		https://leetcode.cn/problems/count-substrings-that-satisfy-k-constraint-i/ （容易+，注意不合法条件）

​		https://leetcode.cn/problems/count-subarrays-with-score-less-than-k （容易+，这题不值得一个hard标签）

​		https://leetcode.cn/problems/continuous-subarrays （一般，考虑哈希表或单调队列来维护窗口<=2的条件）

​		https://leetcode.cn/problems/1GxJYY （容易+，滑窗+哈希）

​		https://leetcode.cn/problems/find-the-median-of-the-uniqueness-array （较难，滑窗+二分答案）

​		https://leetcode.cn/problems/count-substrings-that-satisfy-k-constraint-ii （较难，滑窗+前缀和+二分查找）

​	**越长越合法**

​		https://leetcode.cn/problems/number-of-substrings-containing-all-three-characters （容易+）

​		https://leetcode.cn/problems/count-subarrays-where-max-element-appears-at-least-k-times （容易+）

​		https://leetcode.cn/problems/count-substrings-with-k-frequency-characters-i （容易++）

​		https://leetcode.cn/problems/count-complete-subarrays-in-an-array （容易++）

​		https://leetcode.cn/problems/count-the-number-of-good-subarrays （容易++，需要分析如何维护窗口内好子数组的数量）

​		https://leetcode.cn/problems/count-substrings-that-can-be-rearranged-to-contain-a-string-ii （一般）

​	**恰好型**

​		可以将问题拆解为两个滑窗，也可以将两个滑合并，统一右端点，找两个左端点，该方法也可以叫做三指针滑窗。

​		https://leetcode.cn/problems/binary-subarrays-with-sum （容易++）

​		https://leetcode.cn/problems/count-number-of-nice-subarrays （容易++）

​		https://leetcode.cn/problems/count-of-substrings-containing-every-vowel-and-k-consonants-ii （容易++）

​		https://leetcode.cn/problems/subarrays-with-k-different-integers （容易++，这题不值一个hard）

​	**其他题目**

​		https://leetcode.cn/problems/friends-of-appropriate-ages （容易++，需理解题目的意思）

​		https://leetcode.cn/problems/longest-nice-subarray （一般+，滑窗+位运算）

​		https://leetcode.cn/problems/swap-for-longest-repeated-character-substring （一般，需要细节）

​		https://leetcode.cn/problems/longest-repeating-character-replacement （容易++，可以尝试优化）

​		https://leetcode.cn/problems/he-wei-sde-lian-xu-zheng-shu-xu-lie-lcof （容易+）

​		https://leetcode.cn/problems/ways-to-split-array-into-three-subarrays （一般++，滑窗+二分）

​		
